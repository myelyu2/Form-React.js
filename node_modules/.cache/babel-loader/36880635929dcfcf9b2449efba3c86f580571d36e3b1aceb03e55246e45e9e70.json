{"ast":null,"code":"import axios from 'axios';\nexport async function getData() {\n  // Send request to the API and get data\n  const response = await axios.get(\"https://frontend-take-home.fetchrewards.com/form\");\n  return response.data;\n}\nexport async function getCachedData() {\n  let data = getData();\n  const ttl = 3000;\n  // TODO ADD TTL\n\n  return data.then(res => {\n    // Save request data in object and modify the states using map function\n    res = {\n      ...res.data,\n      occupations: res.occupations,\n      states: res.states.map(state => state.abbreviation.concat(\" - \", state.name))\n    };\n\n    // Store the data in localStorage\n    localStorage.setItem(\"formData\", JSON.stringify(res));\n    return res;\n  });\n}\nexport async function postData(data) {\n  try {\n    const response = await axios.post(\"https://frontend-take-home.fetchrewards.com/form\", data);\n    console.log(response.status);\n    return response.status;\n  } catch (error) {\n    console.error(error);\n    return error;\n  }\n}","map":{"version":3,"names":["axios","getData","response","get","data","getCachedData","ttl","then","res","occupations","states","map","state","abbreviation","concat","name","localStorage","setItem","JSON","stringify","postData","post","console","log","status","error"],"sources":["/Users/malika/Documents/GitHub/Form-React.js/src/axios-api-setup.js"],"sourcesContent":["import axios from 'axios';\n\nexport async function getData() {\n    // Send request to the API and get data\n    const response = await axios.get(\"https://frontend-take-home.fetchrewards.com/form\")\n    return response.data;       \n}\n\nexport async function getCachedData() {\n    let data = getData()\n    const ttl = 3000\n    // TODO ADD TTL\n    \n    return data.then(res => {\n        // Save request data in object and modify the states using map function\n        res = {\n            ...res.data,\n            occupations: res.occupations,\n            states: res.states.map(state => (state.abbreviation).concat(\" - \", (state.name)) ),\n        };\n\n        // Store the data in localStorage\n        localStorage.setItem(\"formData\", JSON.stringify(res));\n        return res;\n    });\n}\n\nexport async function postData(data) {\n    try {\n        const response = await axios.post(\"https://frontend-take-home.fetchrewards.com/form\", data);\n        console.log(response.status)\n        return response.status;\n    } catch (error) {\n        console.error(error);\n        return error;\n    }\n}\n\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,OAAO,eAAeC,OAAO,GAAG;EAC5B;EACA,MAAMC,QAAQ,GAAG,MAAMF,KAAK,CAACG,GAAG,CAAC,kDAAkD,CAAC;EACpF,OAAOD,QAAQ,CAACE,IAAI;AACxB;AAEA,OAAO,eAAeC,aAAa,GAAG;EAClC,IAAID,IAAI,GAAGH,OAAO,EAAE;EACpB,MAAMK,GAAG,GAAG,IAAI;EAChB;;EAEA,OAAOF,IAAI,CAACG,IAAI,CAACC,GAAG,IAAI;IACpB;IACAA,GAAG,GAAG;MACF,GAAGA,GAAG,CAACJ,IAAI;MACXK,WAAW,EAAED,GAAG,CAACC,WAAW;MAC5BC,MAAM,EAAEF,GAAG,CAACE,MAAM,CAACC,GAAG,CAACC,KAAK,IAAKA,KAAK,CAACC,YAAY,CAAEC,MAAM,CAAC,KAAK,EAAGF,KAAK,CAACG,IAAI,CAAE;IACpF,CAAC;;IAED;IACAC,YAAY,CAACC,OAAO,CAAC,UAAU,EAAEC,IAAI,CAACC,SAAS,CAACX,GAAG,CAAC,CAAC;IACrD,OAAOA,GAAG;EACd,CAAC,CAAC;AACN;AAEA,OAAO,eAAeY,QAAQ,CAAChB,IAAI,EAAE;EACjC,IAAI;IACA,MAAMF,QAAQ,GAAG,MAAMF,KAAK,CAACqB,IAAI,CAAC,kDAAkD,EAAEjB,IAAI,CAAC;IAC3FkB,OAAO,CAACC,GAAG,CAACrB,QAAQ,CAACsB,MAAM,CAAC;IAC5B,OAAOtB,QAAQ,CAACsB,MAAM;EAC1B,CAAC,CAAC,OAAOC,KAAK,EAAE;IACZH,OAAO,CAACG,KAAK,CAACA,KAAK,CAAC;IACpB,OAAOA,KAAK;EAChB;AACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}