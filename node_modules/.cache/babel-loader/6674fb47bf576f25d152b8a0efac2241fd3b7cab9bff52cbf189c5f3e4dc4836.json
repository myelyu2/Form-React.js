{"ast":null,"code":"var _s = $RefreshSig$();\nimport Axios from 'axios';\nimport axiosCacheAdapter from 'axios-cache-adapter';\nimport { useState, useEffect } from \"react\";\nconst cache = axiosCacheAdapter.setupCache({\n  maxAge: 3 * 60 * 1000 // Three minutes\n});\n\nconst instance = Axios.create({\n  adapter: cache.adapter,\n  baseURL: 'https://frontend-take-home.fetchrewards.com/form'\n});\nexport function useFormData() {\n  _s();\n  const [data, setData] = useState(null);\n  const [status, setStatus] = useState('loading');\n  useEffect(() => {\n    const ts = Date.now();\n    console.log('kek1');\n    instance.get('').then(response => {\n      console.log(response.config.fromCache);\n      console.log('this was cache');\n      setData(response.data);\n      setStatus('success');\n      console.log('kek1', Date.now() - ts);\n      const ts2 = Date.now();\n      console.log('kek2');\n      instance.get('').then(response => {\n        console.log('kek2', Date.now() - ts2);\n      });\n    });\n  }, []);\n  return {\n    data,\n    status\n  };\n}\n\n// const cache = axiosCacheAdapter.setupCache({\n//     maxAge: 15 * 60 * 1000\n// });\n\n// const api = Axios.create({\n//     adapter: cache.adapter\n// });\n\n// export function useFormData() {\n//     const [data, setData] = useState(null);\n//     const [status, setStatus] = useState('loading');\n//     useEffect(() => {\n//         api\n//             .get('https://frontend-take-home.fetchrewards.com/form')\n//             .then(response => {\n//                 // setData(response.data);\n//                 // setStatus('success');\n//             })\n//             .catch(error => {\n//                 setStatus('error');\n//             });\n//             console.log('SENT REQUEST')\n//     }, []);\n//     return { data, status };\n// }\n_s(useFormData, \"JkiG+UVTL5cDclWperQzXExDUdo=\");\nexport function sendFormData(res) {}","map":{"version":3,"names":["Axios","axiosCacheAdapter","useState","useEffect","cache","setupCache","maxAge","instance","create","adapter","baseURL","useFormData","data","setData","status","setStatus","ts","Date","now","console","log","get","then","response","config","fromCache","ts2","sendFormData","res"],"sources":["/Users/malika/Desktop/react-pract/form/src/axios-api-setup.js"],"sourcesContent":["import Axios from 'axios';\nimport axiosCacheAdapter from 'axios-cache-adapter';\nimport { useState, useEffect } from \"react\";\n\n\n\nconst cache = axiosCacheAdapter.setupCache({\n    maxAge: 3 * 60 * 1000 // Three minutes\n})\n\nconst instance = Axios.create({\n    adapter: cache.adapter,\n    baseURL: 'https://frontend-take-home.fetchrewards.com/form'\n})\n\nexport function useFormData() {\n    const [data, setData] = useState(null);\n    const [status, setStatus] = useState('loading');\n\n    useEffect(() => {\n        const ts = Date.now()\n        console.log('kek1')\n        instance.get('').then(response => {\n            console.log(response.config.fromCache)\n            console.log('this was cache')\n            setData(response.data);\n            setStatus('success');\n            console.log('kek1', Date.now() - ts)\n\n            const ts2 = Date.now()\n            console.log('kek2')\n            instance.get('').then(response => {\n                console.log('kek2', Date.now() - ts2)\n            })\n        })\n    }, []);\n    return {data, status}\n\n}\n\n\n// const cache = axiosCacheAdapter.setupCache({\n//     maxAge: 15 * 60 * 1000\n// });\n\n// const api = Axios.create({\n//     adapter: cache.adapter\n// });\n\n// export function useFormData() {\n//     const [data, setData] = useState(null);\n//     const [status, setStatus] = useState('loading');\n//     useEffect(() => {\n//         api\n//             .get('https://frontend-take-home.fetchrewards.com/form')\n//             .then(response => {\n//                 // setData(response.data);\n//                 // setStatus('success');\n//             })\n//             .catch(error => {\n//                 setStatus('error');\n//             });\n//             console.log('SENT REQUEST')\n//     }, []);\n//     return { data, status };\n// }\n\nexport function sendFormData(res) {\n\n\n}"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,iBAAiB,MAAM,qBAAqB;AACnD,SAASC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAI3C,MAAMC,KAAK,GAAGH,iBAAiB,CAACI,UAAU,CAAC;EACvCC,MAAM,EAAE,CAAC,GAAG,EAAE,GAAG,IAAI,CAAC;AAC1B,CAAC,CAAC;;AAEF,MAAMC,QAAQ,GAAGP,KAAK,CAACQ,MAAM,CAAC;EAC1BC,OAAO,EAAEL,KAAK,CAACK,OAAO;EACtBC,OAAO,EAAE;AACb,CAAC,CAAC;AAEF,OAAO,SAASC,WAAW,GAAG;EAAA;EAC1B,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGX,QAAQ,CAAC,IAAI,CAAC;EACtC,MAAM,CAACY,MAAM,EAAEC,SAAS,CAAC,GAAGb,QAAQ,CAAC,SAAS,CAAC;EAE/CC,SAAS,CAAC,MAAM;IACZ,MAAMa,EAAE,GAAGC,IAAI,CAACC,GAAG,EAAE;IACrBC,OAAO,CAACC,GAAG,CAAC,MAAM,CAAC;IACnBb,QAAQ,CAACc,GAAG,CAAC,EAAE,CAAC,CAACC,IAAI,CAACC,QAAQ,IAAI;MAC9BJ,OAAO,CAACC,GAAG,CAACG,QAAQ,CAACC,MAAM,CAACC,SAAS,CAAC;MACtCN,OAAO,CAACC,GAAG,CAAC,gBAAgB,CAAC;MAC7BP,OAAO,CAACU,QAAQ,CAACX,IAAI,CAAC;MACtBG,SAAS,CAAC,SAAS,CAAC;MACpBI,OAAO,CAACC,GAAG,CAAC,MAAM,EAAEH,IAAI,CAACC,GAAG,EAAE,GAAGF,EAAE,CAAC;MAEpC,MAAMU,GAAG,GAAGT,IAAI,CAACC,GAAG,EAAE;MACtBC,OAAO,CAACC,GAAG,CAAC,MAAM,CAAC;MACnBb,QAAQ,CAACc,GAAG,CAAC,EAAE,CAAC,CAACC,IAAI,CAACC,QAAQ,IAAI;QAC9BJ,OAAO,CAACC,GAAG,CAAC,MAAM,EAAEH,IAAI,CAACC,GAAG,EAAE,GAAGQ,GAAG,CAAC;MACzC,CAAC,CAAC;IACN,CAAC,CAAC;EACN,CAAC,EAAE,EAAE,CAAC;EACN,OAAO;IAACd,IAAI;IAAEE;EAAM,CAAC;AAEzB;;AAGA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA,GAlDgBH,WAAW;AAoD3B,OAAO,SAASgB,YAAY,CAACC,GAAG,EAAE,CAGlC"},"metadata":{},"sourceType":"module","externalDependencies":[]}